<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exámenes tipo test 1º SMR</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #6a11cb, #2575fc);
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }
        .container {
            max-width: 600px;
            width: 90%;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            text-align: center;
            margin: 20px 0;
            transition: all 0.5s ease;
            animation: fadeIn 1s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        @keyframes welcomeAnimation {
            0% { opacity: 0; transform: scale(0.8); }
            100% { opacity: 1; transform: scale(1); }
        }
        @keyframes expandAnimation {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .exam-button, #startScreen button {
            margin: 10px;
            padding: 15px 30px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 10px;
            color: #fff;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .exam-button:hover, #startScreen button:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        #startScreen, #quizContainer, #result, #loadingScreen {
            display: none;
        }
        .question-container {
            margin-bottom: 20px;
        }
        .question-container label {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .question-container label:hover {
            background: rgba(255, 255, 255, 0.2);
        }
        .question-container input[type="radio"]:checked + label {
            background: rgba(255, 255, 255, 0.3);
        }
        .buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .buttons button {
            padding: 10px 20px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 10px;
            color: #fff;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .buttons button:disabled {
            background: rgba(255, 255, 255, 0.1);
            cursor: not-allowed;
        }
        .buttons button:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        #progressBar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin-bottom: 20px;
        }
        #progress {
            height: 100%;
            background: #fff;
            border-radius: 5px;
            width: 0;
            transition: width 0.3s ease;
        }
        .floating-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }
        .floating-button:disabled {
            background: rgba(255, 255, 255, 0.1);
            cursor: not-allowed;
        }
        .floating-button:hover:not(:disabled) {
            background: rgba(255, 255, 255, 0.3);
        }
        .floating-button.left {
            right: auto;
            left: 20px;
        }
        #result {
            text-align: left;
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
        }
        #result ul {
            list-style: none;
            padding: 0;
        }
        #result li {
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }
        .welcome-message {
            font-size: 24px;
            font-weight: bold;
            animation: welcomeAnimation 1s ease;
        }
        #loadingScreen {
            text-align: center;
        }
        #loadingScreen .spinner {
            border: 4px solid rgba(255, 255, 255, 0.3);
            border-top: 4px solid #fff;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        #loadingScreen .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            margin: 20px 0;
            overflow: hidden;
        }
        #loadingScreen .progress-bar .progress {
            height: 100%;
            background: #fff;
            border-radius: 5px;
            width: 0;
            transition: width 0.5s ease;
        }
        #loadingScreen .messages {
            margin-top: 20px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }
        .top-buttons {
            position: fixed;
            top: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
        }
        .top-buttons a {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            color: #fff;
            text-decoration: none;
            transition: background 0.3s ease;
        }
        .top-buttons a:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        .category-menu {
            display: none;
            animation: slideIn 0.5s ease;
        }
        .category-menu.active {
            display: block;
        }
        .start-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        .start-buttons button {
            padding: 10px 20px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 10px;
            color: #fff;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .start-buttons button:hover {
            background: rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>
    <div class="top-buttons">
        <a href="https://moodle.educarex.es/evex/course/view.php?id=4374" target="_blank">Redes Locales - 1º SMR</a>
        <a href="https://www.youtube.com/@tecno-experimentosyretro8212" target="_blank">Mi canal de YouTube</a>
    </div>
    <div class="container">
        <!-- Menú principal -->
        <div id="examMenu">
            <h1>Exámenes tipo test 1º SMR</h1>
            <h2>Selecciona una categoría de exámenes</h2>
            <button class="exam-button" onclick="loadCategory('SOM')">Exámenes SOM</button>
            <button class="exam-button" onclick="loadCategory('RL')">Exámenes RL</button>
        </div>

        <!-- Exámenes SOM -->
        <div id="SOM" class="category-menu">
            <h2>Exámenes de Comandos de Linux (SOM)</h2>
            <button class="exam-button" onclick="loadExam('SOMIntermedio')">Examen Intermedio</button>
            <button class="exam-button" onclick="loadExam('SOMDificil')">Examen Difícil</button>
            <button class="exam-button" onclick="backToMainMenu()">Volver al menú principal</button>
        </div>

        <!-- Exámenes RL -->
        <div id="RL" class="category-menu">
            <h2>Exámenes de Redes (RL)</h2>
            <button class="exam-button" onclick="loadExam('RLFacil')">Examen Fácil</button>
            <button class="exam-button" onclick="loadExam('RLIntermedio')">Examen Intermedio</button>
            <button class="exam-button" onclick="loadExam('RLDificil')">Examen Difícil</button>
            <button class="exam-button" onclick="backToMainMenu()">Volver al menú principal</button>
        </div>

        <!-- Pantalla de inicio del examen -->
        <div id="startScreen">
            <h2>Bienvenido al Examen Tipo Test</h2>
            <p id="examDescription"></p>
            <p>Este examen consta de <strong><span id="totalQuestions"></span> preguntas</strong>. Cada pregunta correcta suma <strong><span id="pointsPerCorrect"></span></strong> puntos y cada incorrecta resta <strong><span id="pointsPerIncorrect"></span></strong> puntos.</p>
            <div class="start-buttons">
                <button onclick="backToCategoryMenu()">Volver al menú de categoría</button>
                <button onclick="startExam()">Comenzar Examen</button>
            </div>
        </div>
        
        <!-- Contenedor del examen -->
        <div id="quizContainer">
            <div id="progressBar">
                <div id="progress"></div>
            </div>
            <div id="questions"></div>
            <div class="buttons">
                <button id="prevButton" onclick="prevQuestion()" disabled>Anterior</button>
                <button id="nextButton" onclick="nextQuestion()">Siguiente</button>
            </div>
        </div>
        
        <!-- Pantalla de carga -->
        <div id="loadingScreen">
            <div class="spinner"></div>
            <div class="progress-bar">
                <div class="progress"></div>
            </div>
            <div class="messages">Cargando resultados, por favor espere...</div>
        </div>
        
        <!-- Resultados -->
        <div id="result">
            <h3>Resultados</h3>
            <p id="score"></p>
            <ul id="summary"></ul>
            <button class="exam-button" onclick="backToCategoryMenu()">Volver al menú de categoría</button>
        </div>
    </div>

    <!-- Botones flotantes -->
    <button class="floating-button" onclick="location.reload()"><i class="fas fa-home"></i></button>
    <button class="floating-button left" id="restartButton" onclick="restartExam()" disabled><i class="fas fa-redo"></i></button>

    <!-- Texto inferior -->
    <div style="position: fixed; bottom: 10px; width: 100%; text-align: center; font-weight: bold;">
        By © Adrián Blanco Barra 2025
    </div>

    <script>
        const exams = {
            // Exámenes SOM (Comandos de Linux)
            SOMIntermedio: {
                description: "Examen intermedio de comandos de Linux.",
                questions: [
                    { 
                        text: "¿Qué comando se utiliza para crear un directorio en Linux?", 
                        options: ["mkdir", "touch", "ls", "cd"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para listar el contenido de un directorio en Linux?", 
                        options: ["list", "ls", "dir", "show"], 
                        correct: 1
                    },
                    { 
                        text: "¿Qué comando se utiliza para crear un archivo vacío en Linux?", 
                        options: ["mkdir", "touch", "echo", "cat"], 
                        correct: 1
                    },
                    { 
                        text: "¿Qué comando se utiliza para mostrar un mensaje en la terminal respetando las comillas?", 
                        options: ["print", "echo", "show", "display"], 
                        correct: 1
                    },
                    { 
                        text: "¿Qué comando se utiliza para listar todos los archivos en un directorio, incluyendo los ocultos?", 
                        options: ["ls -a", "ls -l", "ls -h", "ls -R"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para listar archivos en orden inverso?", 
                        options: ["ls -r", "ls -R", "ls -t", "ls -l"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para buscar archivos que comiencen con la letra 'e' en el directorio /bin?", 
                        options: ["find /bin -name 'e*'", "ls /bin/e*", "grep /bin 'e*'", "search /bin 'e*'"], 
                        correct: 1
                    },
                    { 
                        text: "¿Qué comando se utiliza para mostrar las últimas 2 líneas de un archivo?", 
                        options: ["head -n 2", "tail -n 2", "cat -n 2", "echo -n 2"], 
                        correct: 1
                    },
                    { 
                        text: "¿Qué comando se utiliza para crear un directorio dentro de otro directorio?", 
                        options: ["mkdir -p", "mkdir", "cd", "touch"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para mostrar las primeras 4 líneas de un archivo?", 
                        options: ["head -n 4", "tail -n 4", "cat -n 4", "echo -n 4"], 
                        correct: 0
                    }
                ]
            },
            SOMDificil: {
                description: "Examen difícil de comandos de Linux.",
                questions: [
                    { 
                        text: "¿Qué comando se utiliza para buscar archivos que comiencen con 'nt' y terminen con 'e' en el directorio /bin?", 
                        options: ["ls /bin/nt*e", "find /bin -name 'nt*e'", "grep /bin 'nt*e'", "search /bin 'nt*e'"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para buscar archivos que comiencen con 'z', tengan una letra intermedia y terminen con 'grep' en el directorio /bin?", 
                        options: ["ls /bin/z?grep", "find /bin -name 'z?grep'", "grep /bin 'z?grep'", "search /bin 'z?grep'"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para buscar archivos que terminen en un número en el directorio /sbin?", 
                        options: ["ls /sbin/*[0-9]", "find /sbin -name '*[0-9]'", "grep /sbin '*[0-9]'", "search /sbin '*[0-9]'"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para buscar archivos que comiencen con 'system' o 'ntfs' en el directorio /bin?", 
                        options: ["ls /bin/{system*,ntfs*}", "find /bin -name 'system*' -o -name 'ntfs*'", "grep /bin 'system*|ntfs*'", "search /bin 'system*|ntfs*'"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para buscar archivos que contengan la palabra 'me' o 'mo' en el directorio /bin?", 
                        options: ["grep -E 'me|mo' /bin/*", "find /bin -name '*me*' -o -name '*mo*'", "ls /bin/*me* /bin/*mo*", "search /bin 'me|mo'"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para mostrar las últimas 2 líneas del archivo /etc/passwd?", 
                        options: ["tail -n 2 /etc/passwd", "head -n 2 /etc/passwd", "cat -n 2 /etc/passwd", "echo -n 2 /etc/passwd"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para mostrar las primeras 4 líneas del archivo /etc/passwd?", 
                        options: ["head -n 4 /etc/passwd", "tail -n 4 /etc/passwd", "cat -n 4 /etc/passwd", "echo -n 4 /etc/passwd"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para listar archivos que comiencen con 'try' y tengan exactamente 5 caracteres en el directorio /dev?", 
                        options: ["ls /dev/try??", "find /dev -name 'try??'", "grep /dev 'try??'", "search /dev 'try??'"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para listar archivos que comiencen con 'try' y terminen en 1, 2, 3 o 4 en el directorio /dev?", 
                        options: ["ls /dev/try*[1-4]", "find /dev -name 'try*[1-4]'", "grep /dev 'try*[1-4]'", "search /dev 'try*[1-4]'"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para listar todos los archivos, incluyendo los ocultos, en el directorio raíz?", 
                        options: ["ls -a /", "ls -l /", "ls -R /", "ls -h /"], 
                        correct: 0
                    }
                ]
            },
            // Exámenes RL (Redes)
            RLFacil: {
                description: "Examen fácil de redes.",
                questions: [
                    { 
                        text: "¿Cuántos bits tiene una dirección IPv4?", 
                        options: ["32", "64", "128", "256"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué clase de dirección IP tiene el rango 192.0.0.0 a 223.255.255.255?", 
                        options: ["Clase A", "Clase B", "Clase C", "Clase D"], 
                        correct: 2
                    },
                    { 
                        text: "¿Qué máscara de red se usa comúnmente en redes de clase C?", 
                        options: ["255.0.0.0", "255.255.0.0", "255.255.255.0", "255.255.255.255"], 
                        correct: 2
                    },
                    { 
                        text: "¿Qué protocolo se utiliza para transferir información entre dispositivos en la red?", 
                        options: ["HTTP", "FTP", "IP", "DNS"], 
                        correct: 2
                    },
                    { 
                        text: "¿Qué dirección IP pertenece a la clase A?", 
                        options: ["10.0.0.1", "172.16.0.1", "192.168.1.1", "224.0.0.1"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué dirección IP es privada?", 
                        options: ["192.168.1.1", "8.8.8.8", "172.32.0.1", "169.254.0.1"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para ver la configuración actual de un router?", 
                        options: ["show running-config", "show startup-config", "show version", "show interfaces"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué protocolo se utiliza para el enrutamiento en la capa de red?", 
                        options: ["IP", "TCP", "UDP", "OSPF"], 
                        correct: 3
                    },
                    { 
                        text: "¿Qué máscara de red se usa en una red con 254 hosts?", 
                        options: ["255.255.255.0", "255.255.0.0", "255.0.0.0", "255.255.255.255"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué dirección IP es de clase B?", 
                        options: ["172.16.0.1", "10.0.0.1", "192.168.1.1", "224.0.0.1"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué dirección IP es de loopback?", 
                        options: ["127.0.0.1", "192.168.1.1", "169.254.0.1", "10.0.0.1"], 
                        correct: 0
                    },
                    { 
                        text: "¿Qué comando se utiliza para acceder al modo privilegiado en un router?", 
                        options: ["enable", "configure terminal", "hostname", "show running-config"], 
                        correct: 0
                    }
                ]
            },
            RLIntermedio: {
                description: "Examen intermedio de redes.",
                questions: [
                    { 
                        text: "¿Cuál de las siguientes funciones NO es una función básica de la capa de red?", 
                        options: ["Encapsulamiento", "Direccionamiento de terminales", "Traducción de nombres de dominio", "Routing"], 
                        correct: 2
                    },
                    { 
                        text: "Una dirección IPv4 consta de:", 
                        options: ["16 bits", "32 bits", "64 bits", "128 bits"], 
                        correct: 1
                    },
                    { 
                        text: "La dirección de red de un host se determina mediante:", 
                        options: ["La operación OR entre la dirección IP y la máscara", "La suma de la dirección IP y la máscara", "La operación AND entre la dirección IP y la máscara", "La resta de la máscara a la dirección IP"], 
                        correct: 2
                    },
                    { 
                        text: "La notación CIDR /24 equivale a la máscara:", 
                        options: ["255.255.255.0", "255.255.0.0", "255.0.0.0", "255.255.255.255"], 
                        correct: 0
                    },
                    { 
                        text: "Dentro del rango de direcciones privadas de clase A se encuentra:", 
                        options: ["192.168.1.0 – 192.168.255.255", "10.0.0.0 – 10.255.255.255", "128.0.0.0 – 191.255.255.255", "224.0.0.0 – 239.255.255.255"], 
                        correct: 1
                    },
                    { 
                        text: "El protocolo IPv4 se caracteriza por ser:", 
                        options: ["Orientado a la conexión y garantizar la entrega de paquetes", "Sin conexión y ofrecer servicio mínimo", "Independiente de los medios pero garantizando la fiabilidad", "Exclusivo para redes locales"], 
                        correct: 1
                    },
                    { 
                        text: "La dirección utilizada comúnmente para el loopback es:", 
                        options: ["192.168.0.1", "169.254.0.1", "127.0.0.1", "10.0.0.1"], 
                        correct: 2
                    },
                    { 
                        text: "El rango de direcciones reservado para tráfico multicast (clase D) es:", 
                        options: ["224.0.0.0 a 239.255.255.255", "192.168.0.0 a 192.168.255.255", "240.0.0.0 a 255.255.255.255", "128.0.0.0 a 191.255.255.255"], 
                        correct: 0
                    },
                    { 
                        text: "Para enviar un paquete a una red diferente, un host utiliza:", 
                        options: ["La dirección de broadcast", "La puerta de enlace predeterminada", "La dirección de loopback", "La dirección de red"], 
                        correct: 1
                    },
                    { 
                        text: "La dirección de broadcast en una red es:", 
                        options: ["La primera dirección de la red", "La dirección que identifica a un host específico", "La última dirección de la red, con todos los bits de host en 1", "Una dirección reservada para pruebas"], 
                        correct: 2
                    },
                    { 
                        text: "La función principal de la máscara de subred es:", 
                        options: ["Identificar la dirección de broadcast", "Dividir la dirección IP en partes de red y de host", "Convertir la dirección IP de decimal a binario", "Configurar la dirección IP en un router"], 
                        correct: 1
                    },
                    { 
                        text: "El comando utilizado para pasar del modo usuario al modo privilegiado en un router es:", 
                        options: ["configure terminal", "enable", "hostname", "copy running-config startup-config"], 
                        correct: 1
                    },
                    { 
                        text: "La función principal de un router en la capa de red es:", 
                        options: ["Convertir direcciones IP a direcciones MAC", "Encapsular datos en tramas", "Determinar la ruta de los paquetes a través de la red", "Configurar la red local"], 
                        correct: 2
                    },
                    { 
                        text: "El comando “login local” en la configuración de un router significa que:", 
                        options: ["Se permite el acceso sin contraseña", "Se utilizan las cuentas definidas localmente en el dispositivo para autenticación", "Se utiliza la contraseña de la consola", "Se deshabilita la autenticación"], 
                        correct: 1
                    },
                    { 
                        text: "La máscara /16 equivale a:", 
                        options: ["255.0.0.0", "255.255.0.0", "255.255.255.0", "255.255.255.255"], 
                        correct: 1
                    },
                    { 
                        text: "Si se tiene la IP 192.168.10.20/24, la dirección de red es:", 
                        options: ["192.168.10.20", "192.168.10.1", "192.168.10.0", "192.168.10.255"], 
                        correct: 2
                    },
                    { 
                        text: "Con la IP 192.168.10.20/24, la dirección de broadcast es:", 
                        options: ["192.168.10.1", "192.168.10.254", "192.168.10.20", "192.168.10.255"], 
                        correct: 3
                    },
                    { 
                        text: "En una red con máscara /24, el número de hosts asignables es:", 
                        options: ["256", "254", "128", "62"], 
                        correct: 1
                    },
                    { 
                        text: "Para guardar la configuración actual de un router y que persista tras un reinicio se usa:", 
                        options: ["copy startup-config running-config", "copy running-config startup-config", "show running-config", "write memory"], 
                        correct: 1
                    },
                    { 
                        text: "El comando “show ip interface brief” en un router sirve para:", 
                        options: ["Mostrar la configuración de seguridad del dispositivo", "Ofrecer un resumen rápido de las interfaces y su estado operativo", "Mostrar la tabla de enrutamiento", "Visualizar las configuraciones guardadas"], 
                        correct: 1
                    }
                ]
            },
            RLDificil: {
                description: "Examen difícil de redes.",
                questions: [
                    { 
                        text: "Se tiene una dirección IP de clase B (por ejemplo, 172.16.45.10) configurada con máscara 255.255.0.0. ¿Qué consecuencia tendría configurar erróneamente una máscara /15 en lugar de /16?", 
                        options: ["La red abarcará más hosts de lo previsto", "La dirección se considerará de clase C", "La IP “invadirá” otras redes, generando conflictos de enrutamiento", "No afectaría, ya que /15 y /16 son equivalentes en clase B"], 
                        correct: 2
                    },
                    { 
                        text: "En una red con IP 192.168.10.20/24, ¿cuál es el rango de direcciones asignables a hosts y cuántos son utilizables?", 
                        options: ["192.168.10.1 – 192.168.10.254; 254 hosts", "192.168.10.0 – 192.168.10.255; 256 hosts", "192.168.10.1 – 192.168.10.253; 253 hosts", "192.168.10.2 – 192.168.10.254; 253 hosts"], 
                        correct: 0
                    },
                    { 
                        text: "Con una máscara /30, ¿cuántas direcciones IP totales existen y cuántas se pueden asignar a hosts?", 
                        options: ["4 totales, 2 asignables", "8 totales, 6 asignables", "2 totales, 0 asignables", "16 totales, 14 asignables"], 
                        correct: 0
                    },
                    { 
                        text: "El comando “service password-encryption” en un router tiene el siguiente efecto:", 
                        options: ["Encripta solo las contraseñas nuevas creadas después de su ejecución", "Encripta todas las contraseñas almacenadas, incluidas las ya existentes", "Elimina la necesidad de configurarlas", "Solo afecta a las contraseñas de acceso remoto"], 
                        correct: 1
                    },
                    { 
                        text: "¿Qué diferencia existe entre “login” y “login local” en la configuración de líneas VTY?", 
                        options: ["“login” utiliza autenticación remota, mientras “login local” utiliza la base de datos local del router", "“login” deshabilita la autenticación y “login local” la habilita", "No hay diferencia, ambos usan la base de datos local", "“login” utiliza contraseñas en texto plano y “login local” contraseñas encriptadas"], 
                        correct: 0
                    },
                    { 
                        text: "Durante la generación de claves RSA para SSH, ¿por qué es importante especificar la longitud (por ejemplo, 1024 o 2048 bits)?", 
                        options: ["Solo afecta la velocidad de la conexión, sin impacto en la seguridad", "Una clave más larga proporciona mayor seguridad aunque pueda afectar el rendimiento", "Las claves de 1024 bits son más seguras que las de 2048 bits", "La longitud no influye en la seguridad de SSH"], 
                        correct: 1
                    },
                    { 
                        text: "¿Por qué deben todos los hosts en una misma red tener la misma dirección de red y puerta de enlace predeterminada?", 
                        options: ["Para garantizar la autenticación de usuarios", "Para evitar conflictos de IP y permitir la comunicación interna y externa", "Para aumentar la velocidad de la red", "Para que el router asigne direcciones automáticamente"], 
                        correct: 1
                    },
                    { 
                        text: "En una red de clase C, ¿qué efecto tiene configurar una máscara mayor a /30 en cuanto al número de hosts disponibles?", 
                        options: ["Permite conectar más de 254 hosts", "Limita el número de hosts disponibles en la subred", "Incrementa el rango de direcciones de red", "No afecta el número de hosts asignables"], 
                        correct: 1
                    },
                    { 
                        text: "Dado que el bloque 127.0.0.0/8 se reserva para loopback, ¿cuál es su función principal?", 
                        options: ["Facilitar pruebas de red y múltiples servicios", "Garantizar que el tráfico de loopback no se enrute a la red externa", "Permitir que varios hosts compartan la misma dirección", "Incrementar la velocidad de comunicación interna"], 
                        correct: 1
                    },
                    { 
                        text: "Las direcciones de enlace local (169.254.0.0/16) se asignan automáticamente en los hosts cuando:", 
                        options: ["Se configuran manualmente", "No se dispone de un servidor DHCP", "Se enrutan a través de Internet", "Se utiliza acceso remoto"], 
                        correct: 1
                    },
                    { 
                        text: "Configurar el “hostname” en un router es esencial porque:", 
                        options: ["Mejora la velocidad del dispositivo", "Identifica el dispositivo en la red y facilita su administración", "Cifra las contraseñas configuradas", "Asigna automáticamente la dirección IP"], 
                        correct: 1
                    },
                    { 
                        text: "El comando “copy startup-config running-config” sirve para:", 
                        options: ["Guardar la configuración actual para que no se pierda al reiniciar", "Restaurar la configuración guardada en NVRAM a la configuración en ejecución", "Mostrar la configuración actual del router", "Eliminar la configuración activa"], 
                        correct: 1
                    },
                    { 
                        text: "El tráfico multicast (Clase D) se diferencia del unicast en que utiliza direcciones IP en el rango:", 
                        options: ["Donde la porción de host está en 0", "224.0.0.0/4 para enviar datos a un grupo de hosts", "De loopback exclusivo", "Igual que el unicast, sin diferencia en el formato"], 
                        correct: 1
                    },
                    { 
                        text: "Al configurar SSH en un router, ¿por qué se recomienda incluir “ip ssh version 2”?", 
                        options: ["Porque la versión 2 mejora la seguridad y autenticación", "Porque la versión 2 es más rápida pero menos segura", "Porque la versión 1 no permite cifrado", "Porque ambas versiones son igualmente seguras"], 
                        correct: 0
                    },
                    { 
                        text: "Configurar una dirección IP con una máscara menor a la indicada por su clase implica que:", 
                        options: ["Se permite mayor cantidad de hosts", "La dirección estaría “invadiendo” otras redes, generando conflictos", "No tiene impacto en la red", "Aumenta la velocidad de transmisión de datos"], 
                        correct: 1
                    },
                    { 
                        text: "El comando “show interfaces” se utiliza en un router para:", 
                        options: ["Mostrar la configuración completa del dispositivo", "Proporcionar estadísticas y el estado de cada interfaz para detectar problemas de conectividad", "Reiniciar todas las interfaces", "Configurar nuevas interfaces de red"], 
                        correct: 1
                    },
                    { 
                        text: "Una de las principales ventajas de usar SSH en lugar de Telnet para el acceso remoto es que:", 
                        options: ["SSH permite conexiones sin autenticación", "SSH cifra la comunicación, ofreciendo mayor seguridad", "Telnet es compatible con todos los routers sin configuración adicional", "SSH no requiere autenticación alguna"], 
                        correct: 1
                    },
                    { 
                        text: "La porción de host en una dirección IP se utiliza para:", 
                        options: ["Identificar la red a la que pertenece el dispositivo", "Identificar de forma única a cada dispositivo dentro de una red y determinar cuántos hosts son posibles", "Se mantiene fija en todas las redes", "Determinar únicamente la dirección de broadcast"], 
                        correct: 1
                    },
                    { 
                        text: "En el cálculo de direcciones IP para una red, ¿por qué se resta 2 al total de direcciones disponibles?", 
                        options: ["Para reservar espacio para expansiones futuras", "Porque se reservan la dirección de red y la de broadcast, que no se pueden asignar a hosts", "Por motivos de seguridad", "Es una convención histórica sin impacto técnico"], 
                        correct: 1
                    },
                    { 
                        text: "Para eliminar la contraseña configurada en el acceso por consola de un router, se debe:", 
                        options: ["Ejecutar el comando “no password” en el modo de configuración de línea", "Reiniciar el router", "Configurar una nueva contraseña sobre la existente", "No es posible eliminarla una vez establecida"], 
                        correct: 0
                    }
                ]
            }
        };

        let currentExam = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let pointsPerCorrect = 0;
        let pointsPerIncorrect = 0;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function selectRandomQuestions(examKey) {
            const examData = exams[examKey];
            const allQuestions = examData.questions;
            shuffleArray(allQuestions);
            return allQuestions.slice(0, 12); // Selecciona 12 preguntas aleatorias
        }

        function loadCategory(category) {
            document.getElementById("examMenu").style.display = "none";
            document.querySelectorAll(".category-menu").forEach(menu => {
                menu.style.display = "none";
            });
            document.getElementById(category).style.display = "block";
            document.getElementById(category).classList.add("active");
        }

        function backToMainMenu() {
            document.getElementById("examMenu").style.display = "block";
            document.querySelectorAll(".category-menu").forEach(menu => {
                menu.style.display = "none";
            });
        }

        function backToCategoryMenu() {
            document.getElementById("startScreen").style.display = "none";
            document.getElementById("quizContainer").style.display = "none";
            document.getElementById("result").style.display = "none";
            document.querySelector(".category-menu.active").style.display = "block";
        }

        function loadExam(examKey) {
            const examData = exams[examKey];
            currentExam = examKey.includes('SOM') ? examData.questions : selectRandomQuestions(examKey);
            userAnswers = new Array(currentExam.length).fill(null);
            pointsPerCorrect = (10 / currentExam.length).toFixed(2);
            pointsPerIncorrect = (5 / currentExam.length).toFixed(2);

            document.getElementById("totalQuestions").innerText = currentExam.length;
            document.getElementById("pointsPerCorrect").innerText = pointsPerCorrect;
            document.getElementById("pointsPerIncorrect").innerText = pointsPerIncorrect;
            document.getElementById("examDescription").innerText = examData.description;

            document.getElementById("examMenu").style.display = "none";
            document.querySelectorAll(".category-menu").forEach(menu => {
                menu.style.display = "none";
            });
            document.getElementById("startScreen").style.display = "block";
            document.getElementById("restartButton").disabled = true;
        }

        function startExam() {
            document.getElementById("startScreen").style.display = "none";
            document.getElementById("quizContainer").style.display = "block";
            document.getElementById("restartButton").disabled = false;
            updateProgressBar();
            loadQuestion(currentQuestionIndex);
            document.querySelector('.container').style.animation = 'expandAnimation 0.5s ease';
        }

        function loadQuestion(index) {
            const questionContainer = document.getElementById("questions");
            questionContainer.innerHTML = "";
            
            if (index < currentExam.length) {
                const q = currentExam[index];
                const div = document.createElement("div");
                div.className = "question-container";
                div.innerHTML = `<p><strong>${index + 1}. ${q.text}</strong></p>` +
                    q.options.map((option, i) =>
                        `<label><input type="radio" name="q${index}" value="${i}" ${userAnswers[index] === i ? "checked" : ""}> ${option}</label><br>`
                    ).join("");
                questionContainer.appendChild(div);
                div.style.display = "block";
            }
            
            document.getElementById("prevButton").disabled = index === 0;
            document.getElementById("nextButton").innerText = index === currentExam.length - 1 ? "Finalizar" : "Siguiente";
        }

        function saveAnswer(index) {
            const selected = document.querySelector(`input[name='q${index}']:checked`);
            if (selected) {
                userAnswers[index] = parseInt(selected.value);
            }
        }

        function nextQuestion() {
            saveAnswer(currentQuestionIndex);
            if (currentQuestionIndex < currentExam.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
            } else {
                showLoadingScreen();
            }
        }

        function prevQuestion() {
            saveAnswer(currentQuestionIndex);
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
                updateProgressBar();
            }
        }

        function showLoadingScreen() {
            document.getElementById("quizContainer").style.display = "none";
            document.getElementById("loadingScreen").style.display = "block";

            const messages = [
                "Cargando resultados, por favor espere...",
                "Procesando respuestas...",
                "Generando estadísticas...",
                "Finalizando..."
            ];

            const progressBar = document.querySelector("#loadingScreen .progress-bar .progress");
            const messagesElement = document.querySelector("#loadingScreen .messages");

            let progress = 0;
            let messageIndex = 0;

            const interval = setInterval(() => {
                progress += Math.random() * 10; // Incremento aleatorio
                progressBar.style.width = `${Math.min(progress, 100)}%`;

                if (progress >= 100) {
                    clearInterval(interval);
                    setTimeout(() => {
                        showResults();
                    }, 2000); // Esperar 2 segundos adicionales
                } else if (progress % 25 === 0) {
                    messagesElement.textContent = messages[messageIndex];
                    messageIndex = (messageIndex + 1) % messages.length;
                }
            }, 800); // 8 segundos en total
        }

        function showResults() {
            document.getElementById("loadingScreen").style.display = "none";
            document.getElementById("result").style.display = "block";

            let correctAnswers = 0;
            let wrongAnswers = 0;
            let summaryHTML = "";
            
            currentExam.forEach((q, index) => {
                const answer = userAnswers[index];
                if (answer !== null) {
                    if (answer === q.correct) {
                        correctAnswers++;
                        summaryHTML += `<li>✔️ Pregunta ${index + 1}: ${q.text}</li>`;
                    } else {
                        wrongAnswers++;
                        summaryHTML += `<li>❌ Pregunta ${index + 1}: ${q.text}<br>
                        <strong>Tu respuesta:</strong> ${q.options[answer] || "No respondida"} <br>
                        <strong>Respuesta correcta:</strong> ${q.options[q.correct]}</li>`;
                    }
                }
            });
            
            let score = (10 / currentExam.length) * correctAnswers - (5 / currentExam.length) * wrongAnswers;
            score = score.toFixed(2);  // Permitimos notas negativas
            
            document.getElementById("score").innerText = `Tu nota es: ${score}/10. Respuestas correctas: ${correctAnswers}/${currentExam.length}`;
            document.getElementById("summary").innerHTML = summaryHTML;
            document.getElementById("restartButton").disabled = false;
        }

        function updateProgressBar() {
            const progress = ((currentQuestionIndex + 1) / currentExam.length) * 100;
            document.getElementById("progress").style.width = `${progress}%`;
        }

        function restartExam() {
            currentQuestionIndex = 0;
            userAnswers = new Array(currentExam.length).fill(null);
            document.getElementById("quizContainer").style.display = "block";
            document.getElementById("result").style.display = "none";
            updateProgressBar();
            loadQuestion(currentQuestionIndex);
        }
    </script>
</body>
</html>
